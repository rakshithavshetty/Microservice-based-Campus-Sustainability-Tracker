# Report Service

This service provides RESTful APIs for campus sustainability data, including carbon emissions, water consumption, energy consumption, and energy generation. It is built with Node.js, Express, Sequelize, and registers itself as a Eureka client for service discovery.

## Features

- RESTful API endpoints for retrieving sustainability data by date and by month.
- Swagger UI for interactive API documentation.
- Eureka client registration for microservice environments.
- Environment-based configuration via `.env` file.

## Requirements

- Node.js (v14+ recommended)
- MySQL database with the required tables and data
- Eureka server running (for service registration)

## Setup

1. **Clone the repository**

2. **Install dependencies**
   ```sh
   npm install
   ```

3. **Configure environment variables**

   Create a `.env` file in the project root.

4. **Prepare the database**

   Ensure your MySQL database is running and contains the required tables and data. Example data files are in the `data/` directory.

5. **Run the service**
   ```sh
   npm start
   ```

6. **Access the API**

   - Health check: [http://localhost:5001/report/health](http://localhost:5001/report/health)
   - Swagger docs: [http://localhost:5001/api-docs](http://localhost:5001/api-docs)

## API Endpoints

- `GET /report/health`  
  Health check endpoint.

- `GET /report/carbon-emissions/by-date`  
  Returns all carbon emissions by date.

- `GET /report/carbon-emissions/by-month`  
  Returns carbon emissions grouped by month (with totals and averages).

- `GET /report/water-consumption`  
  Returns water consumption by month.

- `GET /report/energy-consumption`  
  Returns energy consumption by month.

- `GET /report/energy-generated`  
  Returns energy generated by month.

## Notes

- The service registers itself with Eureka at startup for service discovery.
- Swagger UI provides interactive documentation for all endpoints.

## License

MIT